import{t as M,a as C,c as ge}from"../chunks/DyoP8OOK.js";import{i as re}from"../chunks/Bb1noD6t.js";import{a1 as Ee,i as Ne,ar as me,M as W,m as N,a2 as Ce,J as Re,g as c,T as Ie,K as Se,L as ue,N as X,o as z,ag as Me,O as pe,j as be,P as De,as as Z,ak as ke,aa as Le,F as ve,at as se,au as ce,av as ne,$ as Oe,A as fe,I as He,aw as je,ax as Qe,aj as Ve,ay as qe,k as Ue,az as Be,ae as Ye,aA as ze,aB as Fe,aC as Ke,b as Ge,an as Je,t as U,x as T,v as y,w as x,q as ie,aD as j,s as le,C as D,p as ae,aE as de}from"../chunks/DEgTdjIA.js";import{o as We}from"../chunks/DFCue3iM.js";import{a as Xe,l as Ze,e as B,s as S}from"../chunks/DPGiYGWV.js";import{p as R,i as te}from"../chunks/DbqJ9QYo.js";function xe(e,a){return a}function $e(e,a,t,s){for(var r=[],i=a.length,v=0;v<i;v++)Qe(a[v].e,r,!0);var d=i>0&&r.length===0&&t!==null;if(d){var f=t.parentNode;Ve(f),f.append(t),s.clear(),H(e,a[0].prev,a[i-1].next)}qe(r,()=>{for(var b=0;b<i;b++){var _=a[b];d||(s.delete(_.k),H(e,_.prev,_.next)),Ue(_.e,!d)}})}function Te(e,a,t,s,r,i=null){var v=e,d={flags:a,items:new Map,first:null},f=(a&me)!==0;if(f){var b=e;v=N?W(Ce(b)):b.appendChild(Ee())}N&&Re();var _=null,w=!1,l=Ie(()=>{var o=t();return He(o)?o:o==null?[]:ke(o)});Ne(()=>{var o=c(l),n=o.length;if(w&&n===0)return;w=n===0;let P=!1;if(N){var k=v.data===Se;k!==(n===0)&&(v=ue(),W(v),X(!1),P=!0)}if(N){for(var g=null,h,m=0;m<n;m++){if(z.nodeType===8&&z.data===Me){v=z,P=!0,X(!1);break}var u=o[m],p=s(u,m);h=ye(z,d,g,null,u,p,m,r,a,t),d.items.set(p,h),g=h}n>0&&W(ue())}N||ea(o,d,v,r,a,s,t),i!==null&&(n===0?_?pe(_):_=be(()=>i(v)):_!==null&&De(_,()=>{_=null})),P&&X(!0),c(l)}),N&&(v=z)}function ea(e,a,t,s,r,i,v){var O,K,V,G;var d=(r&je)!==0,f=(r&(se|ne))!==0,b=e.length,_=a.items,w=a.first,l=w,o,n=null,P,k=[],g=[],h,m,u,p;if(d)for(p=0;p<b;p+=1)h=e[p],m=i(h,p),u=_.get(m),u!==void 0&&((O=u.a)==null||O.measure(),(P??(P=new Set)).add(u));for(p=0;p<b;p+=1){if(h=e[p],m=i(h,p),u=_.get(m),u===void 0){var J=l?l.e.nodes_start:t;n=ye(J,a,n,n===null?a.first:n.next,h,m,p,s,r,v),_.set(m,n),k=[],g=[],l=n.next;continue}if(f&&aa(u,h,p,r),u.e.f&Z&&(pe(u.e),d&&((K=u.a)==null||K.unfix(),(P??(P=new Set)).delete(u))),u!==l){if(o!==void 0&&o.has(u)){if(k.length<g.length){var A=g[0],E;n=A.prev;var F=k[0],Y=k[k.length-1];for(E=0;E<k.length;E+=1)_e(k[E],A,t);for(E=0;E<g.length;E+=1)o.delete(g[E]);H(a,F.prev,Y.next),H(a,n,F),H(a,Y,A),l=A,n=Y,p-=1,k=[],g=[]}else o.delete(u),_e(u,l,t),H(a,u.prev,u.next),H(a,u,n===null?a.first:n.next),H(a,n,u),n=u;continue}for(k=[],g=[];l!==null&&l.k!==m;)l.e.f&Z||(o??(o=new Set)).add(l),g.push(l),l=l.next;if(l===null)continue;u=l}k.push(u),n=u,l=u.next}if(l!==null||o!==void 0){for(var Q=o===void 0?[]:ke(o);l!==null;)l.e.f&Z||Q.push(l),l=l.next;var I=Q.length;if(I>0){var L=r&me&&b===0?t:null;if(d){for(p=0;p<I;p+=1)(V=Q[p].a)==null||V.measure();for(p=0;p<I;p+=1)(G=Q[p].a)==null||G.fix()}$e(a,Q,L,_)}}d&&Le(()=>{var q;if(P!==void 0)for(u of P)(q=u.a)==null||q.apply()}),ve.first=a.first&&a.first.e,ve.last=n&&n.e}function aa(e,a,t,s){s&se&&ce(e.v,a),s&ne?ce(e.i,t):e.i=t}function ye(e,a,t,s,r,i,v,d,f,b){var _=(f&se)!==0,w=(f&Be)===0,l=_?w?Oe(r):fe(r):r,o=f&ne?fe(v):v,n={i:o,v:l,k:i,a:null,e:null,prev:t,next:s};try{return n.e=be(()=>d(e,l,o,b),N),n.e.prev=t&&t.e,n.e.next=s&&s.e,t===null?a.first=n:(t.next=n,t.e.next=n.e),s!==null&&(s.prev=n,s.e.prev=n.e),n}finally{}}function _e(e,a,t){for(var s=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,i=e.e.nodes_start;i!==s;){var v=Ye(i);r.before(i),i=v}}function H(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function ta(e){if(N){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;he(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var r=e.checked;he(e,"checked",null),e.checked=r}}};e.__on_r=t,ze(t),Xe()}}function he(e,a,t,s){var r=e.__attributes??(e.__attributes={});N&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Fe]=t),e.removeAttribute(a))}function Pe(e,a,t){var s=e.__className,r=ra(a);N&&e.className===r?e.__className=r:(s!==r||N&&e.className!==r)&&(a==null?e.removeAttribute("class"):e.className=r,e.__className=r)}function ra(e,a){return(e??"")+""}function sa(e,a,t=a){var s=Ke();Ze(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=$(e)?ee(i):i,t(i),s&&i!==(i=a())){var v=e.selectionStart,d=e.selectionEnd;e.value=i??"",d!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(d,e.value.length))}}),(N&&e.defaultValue!==e.value||Ge(a)==null&&e.value)&&t($(e)?ee(e.value):e.value),Je(()=>{var r=a();$(e)&&r===ee(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function $(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var na=M('<header class="header svelte-1pbh5lx"><h1 class="title svelte-1pbh5lx"> </h1> <input type="text" placeholder="Search tasks..." class="search-box svelte-1pbh5lx"></header>');function ia(e,a){let t=R(a,"title",8,"Usability Testing"),s=R(a,"searchQuery",12),r=R(a,"paginateTasks",8);var i=na(),v=y(i),d=y(v,!0);x(v);var f=T(v,2);ta(f),x(i),U(()=>S(d,t())),sa(f,s),B("input",f,function(...b){var _;(_=r())==null||_.apply(this,b)}),C(e,i)}var la=M('<button class="button button-primary mt-4 svelte-162nji3">Start Test</button>'),oa=M('<p class="test-status">Test in progress... Please complete the task.</p> <button class="button button-secondary mt-4 svelte-162nji3">Complete Test</button>',1),ua=M('<div class="test-results svelte-162nji3"><h3>Usability Test Results</h3> <p><strong>Task Time:</strong> </p> <p><strong>Clicks/Steps:</strong> </p> <p><strong>Errors/Verbalizations:</strong></p> <p class="feedback-text svelte-162nji3"> </p> <p><strong>Overall Rating:</strong> </p></div>'),va=M('<div class="task-card svelte-162nji3"><div class="task-header svelte-162nji3"><h2 class="task-title svelte-162nji3"> </h2> <span> </span></div> <p class="task-description svelte-162nji3"> </p> <!></div>');function ca(e,a){ie(a,!1);let t=R(a,"task",8),s=j(!1),r=j(!1),i,v,d=j(0),f=j({});function b(){D(s,!0),i=Date.now(),window.open(t().url,"_blank")}function _(){D(s,!1),D(r,!0),v=Date.now(),D(d,Math.floor((v-i)/1e3)),w()}function w(){chrome!=null&&chrome.storage&&chrome.storage.local.get(["usabilityTestResults"],function(A){A.usabilityTestResults&&A.usabilityTestResults[t().id]&&D(f,A.usabilityTestResults[t().id])})}w(),re();var l=va(),o=y(l),n=y(o),P=y(n,!0);x(n);var k=T(n,2),g=y(k,!0);x(k),x(o);var h=T(o,2),m=y(h,!0);x(h);var u=T(h,2);{var p=A=>{var E=la();B("click",E,b),C(A,E)},J=A=>{var E=ge(),F=ae(E);{var Y=I=>{var L=oa(),O=T(ae(L),2);B("click",O,_),C(I,L)},Q=I=>{var L=ua(),O=T(y(L),2),K=T(y(O));x(O);var V=T(O,2),G=T(y(V));x(V);var q=T(V,4),Ae=y(q,!0);x(q);var oe=T(q,2),we=T(y(oe));x(oe),x(L),U(()=>{S(K,` ${(c(f).time||c(d))??""} Seconds`),S(G,` ${c(f).steps||"Not recorded"}`),S(Ae,c(f).errors||"No errors recorded"),S(we,` ${(c(f).rating?c(f).rating+"/5":"Not rated")??""}`)}),C(I,L)};te(F,I=>{c(s)?I(Y):I(Q,!1)},!0)}C(A,E)};te(u,A=>{!c(s)&&!c(r)?A(p):A(J,!1)})}x(l),U(()=>{S(P,t().name),Pe(k,`task-status ${(c(s)?"in-progress":c(r)?"completed":"not-started")??""} svelte-162nji3`),S(g,c(r)?"Completed":c(s)?"In Progress":"Not Started"),S(m,t().description)}),C(e,l),le()}var fa=M('<div class="task-list svelte-1brejfn"></div>');function da(e,a){let t=R(a,"tasks",8);var s=fa();Te(s,5,t,xe,(r,i)=>{ca(r,{get task(){return c(i)}})}),x(s),C(e,s)}var _a=M('<span class="pagination-number svelte-1t8kxdu"> </span>'),ha=M("<button> </button>"),ga=M('<div class="pagination svelte-1t8kxdu"><button class="pagination-button svelte-1t8kxdu">Previous</button> <!> <button class="pagination-button svelte-1t8kxdu">Next</button></div>');function ma(e,a){ie(a,!1);let t=R(a,"currentPage",8),s=R(a,"totalPages",8),r=R(a,"setPage",8),i=R(a,"prevPage",8),v=R(a,"nextPage",8),d=R(a,"generatePagination",8);re();var f=ga(),b=y(f),_=T(b,2);Te(_,1,()=>d()(),xe,(l,o)=>{var n=ge(),P=ae(n);{var k=h=>{var m=_a(),u=y(m,!0);x(m),U(()=>S(u,c(o))),C(h,m)},g=h=>{var m=ha(),u=y(m,!0);x(m),U(()=>{Pe(m,`pagination-number ${(c(o)===t()?"active":"")??""} svelte-1t8kxdu`),S(u,c(o))}),B("click",m,()=>r()(c(o))),C(h,m)};te(P,h=>{c(o)==="..."?h(k):h(g,!1)})}C(l,n)});var w=T(_,2);x(f),U(()=>{b.disabled=t()===1,w.disabled=t()===s()}),B("click",b,function(...l){var o;(o=i())==null||o.apply(this,l)}),B("click",w,function(...l){var o;(o=v())==null||o.apply(this,l)}),C(e,f),le()}var pa=M('<main class="container svelte-1hjtt1n"><!> <!> <!></main>');function Aa(e,a){ie(a,!1);let t=[{id:1,name:"Task 1: Register Patient",description:"Register a new patient with personal details.",url:"https://hrithik.webchartnow.com/webchart.cgi?f=chart&s=pat&t=Summary&v=dashboard&pat_id=18"},{id:2,name:"Task 2 A1-CPOE/A4: Prescribe Rx and Dismiss DUR Warning (66 Seconds)",description:"Locate Sergio Acardi's chart (MIE-10027). Click Allergies/Medications tab, and prescribe Amoxicillin Form: capsule 500mg. Dismiss the drug allergy warning, using the reason 'Allergy not correct' and click Dismiss.",url:"https://hrithik.webchartnow.com/webchart.cgi?f=chart&s=pat&pat_id=46"}],s=j(""),r=j(1);const i=5;let v=j([]),d=j(Math.ceil(t.length/i));function f(){let g=t.filter(m=>m.name.toLowerCase().includes(c(s).toLowerCase()));D(d,Math.ceil(g.length/i));const h=(c(r)-1)*i;D(v,g.slice(h,h+i))}function b(g){g>=1&&g<=c(d)&&(D(r,g),f())}function _(){c(r)<c(d)&&(de(r),f())}function w(){c(r)>1&&(de(r,-1),f())}function l(){let g=[];for(let h=1;h<=c(d);h++)g.push(h);return g}We(()=>{f()}),re();var o=pa(),n=y(o);ia(n,{paginateTasks:f,get searchQuery(){return c(s)},set searchQuery(g){D(s,g)},$$legacy:!0});var P=T(n,2);da(P,{get tasks(){return c(v)}});var k=T(P,2);ma(k,{get currentPage(){return c(r)},get totalPages(){return c(d)},setPage:b,prevPage:w,nextPage:_,generatePagination:l}),x(o),C(e,o),le()}export{Aa as component};
